{"ast":null,"code":"import Popup from \"./Popup.js\";\nexport default class PopupWithForm extends Popup {\n  constructor(_ref) {\n    let {\n      popupSelector,\n      handleFormSubmit\n    } = _ref;\n    super(popupSelector);\n    this._handleFormSubmit = handleFormSubmit; //колбек сабмита формы\n    this._popupForm = this._popup.querySelector(\".popup__form\");\n    this._inputsList = this._popup.querySelectorAll(\".popup__input\");\n    this._buttonSave = this._popup.querySelector('.popup__button');\n    this._buttonSaveTextContent = this._buttonSave.textContent;\n  }\n  //собирает данные всех полей\n  _getInputValues() {\n    this._formValues = {};\n    this._inputsList.forEach(input => {\n      this._formValues[input.name] = input.value;\n    });\n    return this._formValues;\n  }\n  setEventListeners() {\n    super.setEventListeners();\n    this._popupForm.addEventListener(\"submit\", evt => {\n      evt.preventDefault();\n      this._handleFormSubmit(this._getInputValues());\n    });\n  }\n  close() {\n    this._popupForm.reset();\n    super.close();\n  }\n  loadingSave(save) {\n    if (save) {\n      this._buttonSave.textContent = 'Сохранение...';\n    } else {\n      this._buttonSave.textContent = this._buttonSaveTextContent;\n    }\n  }\n}","map":{"version":3,"names":["Popup","PopupWithForm","constructor","_ref","popupSelector","handleFormSubmit","_handleFormSubmit","_popupForm","_popup","querySelector","_inputsList","querySelectorAll","_buttonSave","_buttonSaveTextContent","textContent","_getInputValues","_formValues","forEach","input","name","value","setEventListeners","addEventListener","evt","preventDefault","close","reset","loadingSave","save"],"sources":["C:/Users/Надюшонок/Desktop/praktikum/mesto-react/src/components/PopupWithForm.js"],"sourcesContent":["import Popup from \"./Popup.js\";\n\nexport default class PopupWithForm extends Popup {\n  constructor({ popupSelector, handleFormSubmit }) {\n    super(popupSelector);\n    this._handleFormSubmit = handleFormSubmit; //колбек сабмита формы\n    this._popupForm = this._popup.querySelector(\".popup__form\");\n    this._inputsList = this._popup.querySelectorAll(\".popup__input\");\n    this._buttonSave = this._popup.querySelector('.popup__button');\n    this._buttonSaveTextContent = this._buttonSave.textContent;\n  }\n  //собирает данные всех полей\n  _getInputValues() {\n    this._formValues = {};\n    this._inputsList.forEach((input) => {\n      this._formValues[input.name] = input.value;\n    });\n    return this._formValues;\n  }\n\n  setEventListeners() {\n    super.setEventListeners();\n    this._popupForm.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n      this._handleFormSubmit(this._getInputValues());\n    });\n  }\n\n  close() {\n    this._popupForm.reset();\n    super.close();\n  }\n\n  loadingSave (save) {\n    if (save) {\n      this._buttonSave.textContent = 'Сохранение...';\n    } else {\n      this._buttonSave.textContent = this._buttonSaveTextContent;\n    }\n  }\n}\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,YAAY;AAE9B,eAAe,MAAMC,aAAa,SAASD,KAAK,CAAC;EAC/CE,WAAWA,CAAAC,IAAA,EAAsC;IAAA,IAArC;MAAEC,aAAa;MAAEC;IAAiB,CAAC,GAAAF,IAAA;IAC7C,KAAK,CAACC,aAAa,CAAC;IACpB,IAAI,CAACE,iBAAiB,GAAGD,gBAAgB,CAAC,CAAC;IAC3C,IAAI,CAACE,UAAU,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa,CAAC,cAAc,CAAC;IAC3D,IAAI,CAACC,WAAW,GAAG,IAAI,CAACF,MAAM,CAACG,gBAAgB,CAAC,eAAe,CAAC;IAChE,IAAI,CAACC,WAAW,GAAG,IAAI,CAACJ,MAAM,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAC9D,IAAI,CAACI,sBAAsB,GAAG,IAAI,CAACD,WAAW,CAACE,WAAW;EAC5D;EACA;EACAC,eAAeA,CAAA,EAAG;IAChB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAACN,WAAW,CAACO,OAAO,CAAEC,KAAK,IAAK;MAClC,IAAI,CAACF,WAAW,CAACE,KAAK,CAACC,IAAI,CAAC,GAAGD,KAAK,CAACE,KAAK;IAC5C,CAAC,CAAC;IACF,OAAO,IAAI,CAACJ,WAAW;EACzB;EAEAK,iBAAiBA,CAAA,EAAG;IAClB,KAAK,CAACA,iBAAiB,CAAC,CAAC;IACzB,IAAI,CAACd,UAAU,CAACe,gBAAgB,CAAC,QAAQ,EAAGC,GAAG,IAAK;MAClDA,GAAG,CAACC,cAAc,CAAC,CAAC;MACpB,IAAI,CAAClB,iBAAiB,CAAC,IAAI,CAACS,eAAe,CAAC,CAAC,CAAC;IAChD,CAAC,CAAC;EACJ;EAEAU,KAAKA,CAAA,EAAG;IACN,IAAI,CAAClB,UAAU,CAACmB,KAAK,CAAC,CAAC;IACvB,KAAK,CAACD,KAAK,CAAC,CAAC;EACf;EAEAE,WAAWA,CAAEC,IAAI,EAAE;IACjB,IAAIA,IAAI,EAAE;MACR,IAAI,CAAChB,WAAW,CAACE,WAAW,GAAG,eAAe;IAChD,CAAC,MAAM;MACL,IAAI,CAACF,WAAW,CAACE,WAAW,GAAG,IAAI,CAACD,sBAAsB;IAC5D;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}