{"ast":null,"code":"class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n  _getHeaders() {\n    return {\n      authorization: this._token,\n      \"Content-Type\": \"application/json\"\n    };\n  }\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status} ${res.statusText}`);\n  }\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._getHeaders()\n    }).then(this._handleResponse);\n  }\n  getUser() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._getHeaders()\n    }).then(this._handleResponse);\n  }\n  createNewProfile(item) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    }).then(this._handleResponse);\n  }\n  createNewAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._handleResponse);\n  }\n  createNewCard(item) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._getHeaders(),\n      body: JSON.stringify(item)\n    }).then(this._handleResponse);\n  }\n  addLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._getHeaders()\n    }).then(this._handleResponse);\n  }\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._getHeaders()\n    }).then(this._handleResponse);\n  }\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._getHeaders()\n    }).then(this._handleResponse);\n  }\n}\n\n//экземпляр класса Api\nexport const api = new Api(\"https://mesto.nomoreparties.co/v1/cohort-64\", \"e707bb6d-10e3-4b12-a702-f21c992d2e8f\");","map":{"version":3,"names":["Api","constructor","url","token","_url","_token","_getHeaders","authorization","_handleResponse","res","ok","json","Promise","reject","status","statusText","getInitialCards","fetch","headers","then","getUser","createNewProfile","item","method","body","JSON","stringify","name","about","createNewAvatar","data","avatar","createNewCard","addLike","id","deleteLike","deleteCard","api"],"sources":["C:/Users/Надюшонок/Desktop/praktikum/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n  _getHeaders() {\n    return {\n      authorization: this._token,\n      \"Content-Type\": \"application/json\",\n    };\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status} ${res.statusText}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  getUser() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  createNewProfile(item) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  createNewAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  createNewCard(item) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._getHeaders(),\n      body: JSON.stringify(item),\n    }).then(this._handleResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n}\n\n//экземпляр класса Api\nexport const api = new Api(\n  \"https://mesto.nomoreparties.co/v1/cohort-64\",\n  \"e707bb6d-10e3-4b12-a702-f21c992d2e8f\"\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}