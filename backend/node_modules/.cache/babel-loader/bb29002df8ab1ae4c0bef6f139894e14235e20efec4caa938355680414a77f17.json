{"ast":null,"code":"export var BASE_URL=\"https://auth.nomoreparties.co\";var makeRequest=function makeRequest(url,method,body,token){var options={method:method,headers:{\"Content-Type\":\"application/json\"}};if(body){options.body=JSON.stringify(body);}if(token){options.headers={Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)};}return fetch(\"\".concat(BASE_URL).concat(url),options).then(function(res){if(!res.ok){throw new Error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();});};export function authorize(email,password){return makeRequest(\"/signin\",\"POST\",{password:\"\".concat(password),email:\"\".concat(email)});}export function register(email,password){return makeRequest(\"/signup\",\"POST\",{password:\"\".concat(password),email:\"\".concat(email)});}export function getUserData(token){return makeRequest(\"/users/me\",\"GET\",null,token);}","map":{"version":3,"names":["BASE_URL","makeRequest","url","method","body","token","options","headers","JSON","stringify","Accept","Authorization","concat","fetch","then","res","ok","Error","status","json","authorize","email","password","register","getUserData"],"sources":["C:/Users/Надюшонок/Desktop/praktikum/react-mesto-auth/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst makeRequest = (url, method, body, token) => {\n  const options = {\n    method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  if (body) {\n    options.body = JSON.stringify(body);\n  }\n  if (token) {\n    options.headers = {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    };\n  }\n  return fetch(`${BASE_URL}${url}`, options).then((res) => {\n    if (!res.ok) {\n      throw new Error(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  });\n};\n\nexport function authorize(email, password) {\n  return makeRequest(\"/signin\", \"POST\", {\n    password: `${password}`,\n    email: `${email}`,\n  });\n}\n\nexport function register(email, password) {\n  return makeRequest(\"/signup\", \"POST\", {\n    password: `${password}`,\n    email: `${email}`,\n  });\n}\n\nexport function getUserData(token) {\n  return makeRequest(\"/users/me\", \"GET\", null, token);\n}\n"],"mappings":"AAAA,MAAO,IAAM,CAAAA,QAAQ,CAAG,+BAA+B,CAEvD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,GAAG,CAAEC,MAAM,CAAEC,IAAI,CAAEC,KAAK,CAAK,CAChD,GAAM,CAAAC,OAAO,CAAG,CACdH,MAAM,CAANA,MAAM,CACNI,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CACD,GAAIH,IAAI,CAAE,CACRE,OAAO,CAACF,IAAI,CAAGI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CACrC,CACA,GAAIC,KAAK,CAAE,CACTC,OAAO,CAACC,OAAO,CAAG,CAChBG,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAChC,CAAC,CACH,CACA,MAAO,CAAAQ,KAAK,IAAAD,MAAA,CAAIZ,QAAQ,EAAAY,MAAA,CAAGV,GAAG,EAAII,OAAO,CAAC,CAACQ,IAAI,CAAC,SAACC,GAAG,CAAK,CACvD,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,KAAM,IAAI,CAAAC,KAAK,0CAAAL,MAAA,CAAYG,GAAG,CAACG,MAAM,CAAE,CAAC,CAC1C,CACA,MAAO,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CACnB,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,SAAS,CAAAC,SAASA,CAACC,KAAK,CAAEC,QAAQ,CAAE,CACzC,MAAO,CAAArB,WAAW,CAAC,SAAS,CAAE,MAAM,CAAE,CACpCqB,QAAQ,IAAAV,MAAA,CAAKU,QAAQ,CAAE,CACvBD,KAAK,IAAAT,MAAA,CAAKS,KAAK,CACjB,CAAC,CAAC,CACJ,CAEA,MAAO,SAAS,CAAAE,QAAQA,CAACF,KAAK,CAAEC,QAAQ,CAAE,CACxC,MAAO,CAAArB,WAAW,CAAC,SAAS,CAAE,MAAM,CAAE,CACpCqB,QAAQ,IAAAV,MAAA,CAAKU,QAAQ,CAAE,CACvBD,KAAK,IAAAT,MAAA,CAAKS,KAAK,CACjB,CAAC,CAAC,CACJ,CAEA,MAAO,SAAS,CAAAG,WAAWA,CAACnB,KAAK,CAAE,CACjC,MAAO,CAAAJ,WAAW,CAAC,WAAW,CAAE,KAAK,CAAE,IAAI,CAAEI,KAAK,CAAC,CACrD"},"metadata":{},"sourceType":"module","externalDependencies":[]}