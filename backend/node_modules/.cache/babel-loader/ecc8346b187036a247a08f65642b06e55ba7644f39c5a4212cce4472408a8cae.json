{"ast":null,"code":"import _classCallCheck from\"C:/Users/\\u041D\\u0430\\u0434\\u044E\\u0448\\u043E\\u043D\\u043E\\u043A/Desktop/praktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u041D\\u0430\\u0434\\u044E\\u0448\\u043E\\u043D\\u043E\\u043A/Desktop/praktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(url,token){_classCallCheck(this,Api);this._url=url;this._token=token;}_createClass(Api,[{key:\"_getHeaders\",value:function _getHeaders(){return{authorization:this._token,\"Content-Type\":\"application/json\"};}},{key:\"_handleResponse\",value:function _handleResponse(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status,\" \").concat(res.statusText));}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._getHeaders()}).then(this._handleResponse);}},{key:\"getUser\",value:function getUser(){return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._getHeaders()}).then(this._handleResponse);}},{key:\"createNewProfile\",value:function createNewProfile(item){return fetch(\"\".concat(this._url,\"/users/me\"),{method:\"PATCH\",headers:this._getHeaders(),body:JSON.stringify({name:item.name,about:item.about})}).then(this._handleResponse);}},{key:\"createNewAvatar\",value:function createNewAvatar(data){return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._getHeaders(),body:JSON.stringify({avatar:data.avatar})}).then(this._handleResponse);}},{key:\"createNewCard\",value:function createNewCard(item){return fetch(\"\".concat(this._url,\"/cards\"),{method:\"POST\",headers:this._getHeaders(),body:JSON.stringify(item)}).then(this._handleResponse);}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:\"PUT\",headers:this._getHeaders()}).then(this._handleResponse);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:\"DELETE\",headers:this._getHeaders()}).then(this._handleResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id),{method:\"DELETE\",headers:this._getHeaders()}).then(this._handleResponse);}}]);return Api;}();//экземпляр класса Api\nexport var api=new Api(\"https://mesto.nomoreparties.co/v1/cohort-64\",\"e707bb6d-10e3-4b12-a702-f21c992d2e8f\");","map":{"version":3,"names":["Api","url","token","_classCallCheck","_url","_token","_createClass","key","value","_getHeaders","authorization","_handleResponse","res","ok","json","Promise","reject","concat","status","statusText","getInitialCards","fetch","headers","then","getUser","createNewProfile","item","method","body","JSON","stringify","name","about","createNewAvatar","data","avatar","createNewCard","addLike","id","deleteLike","deleteCard","api"],"sources":["C:/Users/Надюшонок/Desktop/praktikum/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n  _getHeaders() {\n    return {\n      authorization: this._token,\n      \"Content-Type\": \"application/json\",\n    };\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status} ${res.statusText}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  getUser() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  createNewProfile(item) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  createNewAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  createNewCard(item) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._getHeaders(),\n      body: JSON.stringify(item),\n    }).then(this._handleResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._getHeaders(),\n    }).then(this._handleResponse);\n  }\n}\n\n//экземпляр класса Api\nexport const api = new Api(\n  \"https://mesto.nomoreparties.co/v1/cohort-64\",\n  \"e707bb6d-10e3-4b12-a702-f21c992d2e8f\"\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}